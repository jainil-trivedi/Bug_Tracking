{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bug Tracking{% endblock %} | Bug Tracking System</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

<!-- ===== NAVBAR ===== -->
<nav class="navbar">
    {# <a href="{% url 'adminDashboard' %}" class="navbar-brand"> #}
    <a href="
    {% if user.role == 'admin' %}{% url 'adminDashboard' %}
    {% elif user.role == 'manager' %}{% url 'managerDashboard' %}
    {% elif user.role == 'developer' %}{% url 'developerDashboard' %}
    {% elif user.role == 'tester' %}{% url 'testerDashboard' %}
    {% endif %}
" class="navbar-brand">
        {# ğŸ”´ DAY: Dashboard  â†’ change # to {% url 'dashboard' %} #}
        <div class="brand-icon">ğŸ›</div>
        Bug Tracking System
    </a>

    {% if user.is_authenticated %}
    <div class="navbar-nav">

        <a href="#">Projects</a>
        {# ğŸ”´ DAY: Project    â†’ change # to {% url 'project_list' %} #}

        <a href="#">Bugs</a>
        {# ğŸ”´ DAY: Bug        â†’ change # to {% url 'bug_list' %} #}

        <a href="#">Tasks</a>
        {# ğŸ”´ DAY: Task       â†’ change # to {% url 'task_list' %} #}

    </div>
    <div class="navbar-user">
        <span>{{ user.email }}</span>
        <div class="avatar">{{ user.email|first|upper }}</div>
        <a href="{% url 'logout' %}" class="btn btn-secondary btn-sm">Logout</a>
        {# âœ… DONE: logout is ready â€” do not touch this line #}
    </div>
    {% endif %}
</nav>

<!-- ===== MAIN WRAPPER ===== -->
<div class="layout-wrapper">

    <!-- SIDEBAR â€” hidden automatically when user is not logged in -->
    {% if user.is_authenticated %}
    <aside class="sidebar">

        <div class="sidebar-section">
            <div class="sidebar-label">Main Menu</div>
            <nav class="sidebar-nav">

                <a href="#">
                    {# ğŸ”´ DAY: Dashboard â†’ change # to {% url 'dashboard' %} #}
                    <span class="nav-icon">ğŸ </span> Dashboard
                </a>

                <a href="#">
                    {# ğŸ”´ DAY: Project   â†’ change # to {% url 'project_list' %} #}
                    <span class="nav-icon">ğŸ“</span> Projects
                </a>

                <a href="#">
                    {# ğŸ”´ DAY: Module    â†’ change # to {% url 'module_list' %} #}
                    <span class="nav-icon">ğŸ§©</span> Modules
                </a>

                <a href="#">
                    {# ğŸ”´ DAY: Task      â†’ change # to {% url 'task_list' %} #}
                    <span class="nav-icon">âœ…</span> Tasks
                </a>

            </nav>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-label">Bug Management</div>
            <nav class="sidebar-nav">

                <a href="#">
                    {# ğŸ”´ DAY: Bug       â†’ change # to {% url 'bug_list' %} #}
                    <span class="nav-icon">ğŸ›</span> All Bugs
                </a>

                <a href="#">
                    {# ğŸ”´ DAY: Bug       â†’ change # to {% url 'bug_create' %} #}
                    <span class="nav-icon">â•</span> Report Bug
                </a>

            </nav>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-label">Time Tracking</div>
            <nav class="sidebar-nav">

                <a href="#">
                    {# ğŸ”´ DAY: TimeLog   â†’ change # to {% url 'timelog_list' %} #}
                    <span class="nav-icon">â±</span> Time Logs
                </a>

                <a href="#">
                    {# ğŸ”´ DAY: TimeLog   â†’ change # to {% url 'timelog_create' %} #}
                    <span class="nav-icon">ğŸ•</span> Log Time
                </a>

            </nav>
        </div>

    </aside>
    {% endif %}

    <!-- MAIN CONTENT â€” block content is only once here, no duplicate -->
    <main class="main-content">

        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        {% endif %}

        {% block content %}{% endblock %}

    </main>

</div>
<!-- end layout-wrapper -->

<!-- ===== FOOTER ===== -->
<footer class="footer">
    &copy; 2026 <span>Bug Tracking System</span> &mdash; All rights reserved.
</footer>

</body>
</html>